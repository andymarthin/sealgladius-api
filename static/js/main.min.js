function login(e){$.ajax({type:"POST",url:"/login",dataType:"JSON",data:e,cache:!1,before:function(){$("#login-modal").addClass("btn-hide"),$("#loader").removeClass("btn-hide")},success:function(e){lscache.set("PHPSESSID",e.data.cookies.PHPSESSID,24),formModal.removeClass("is-visible"),cekCookie(),$("#kirim").removeClass("btn-hide"),$("#login-btn").addClass("btn-hide"),clearFormLogin(),$("#loader").addClass("btn-hide"),$("#login-modal").removeClass("btn-hide")},error:function(e){var a=JSON.parse(e.responseText);$.notify(a.data.message,"error"),$("#loader").addClass("btn-hide"),$("#login-modal").removeClass("btn-hide")}})}function setSilverCoin(e){var a=lscache.get("DataUser"),i={username:a.Username,SilverCoin:e,GoldCoin:a.GoldCoin},o=Math.floor((new Date).getTime()/6e4),n=lscache.get("DataUser-cacheexpiration"),l=n-o;lscache.remove("DataUser"),lscache.set("DataUser",JSON.stringify(i),l),$("#SilverCoin").text(e)}function cekCookie(){var e=lscache.get("PHPSESSID");lscache.flushExpired(),null===e?(login_selected(),$("#login-btn").removeClass("btn-hide"),$("#kirim").addClass("btn-hide"),$("#navigasi").addClass("btn-hide")):($("#kirim").removeClass("btn-hide"),$("#login-btn").addClass("btn-hide"),$("#navigasi").removeClass("btn-hide"))}function logout(){lscache.flush(),cekCookie(),clearFormBuy()}function clearFormLogin(){$("#signin-username").val(""),$("#signin-password").val("")}function clearFormBuy(){$("#jumlah").val(""),$("#bank").val("")}function login_selected(){formModal.addClass("is-visible"),formLogin.addClass("is-selected")}function getResult(e){hasil=e}function buyWithSilverCoin(e,a){var i=lscache.get("PHPSESSID"),o={pass:a,item:e,cookies:i};cekCookie();try{$.ajax({type:"POST",url:"/silvercoin",dataType:"JSON",data:o,cache:!1,success:function(e){$.notify(e.result,"success")},error:function(e){var a=JSON.parse(e.responseText);$.notify(a.data.message,"error")}})}catch(e){alert(e)}}function buyItemMall(e,a){var i=lscache.get("PHPSESSID"),o={pass:a,item:e,cookies:i};cekCookie();try{$.ajax({type:"POST",url:"/itemmall",dataType:"JSON",data:o,cache:!1,success:function(e){return"Bank Full"==e.data.result?($.notify(e.data.result,"error"),0):($.notify(e.data.result,"success"),0)},error:function(e){var a=JSON.parse(e.responseText);$.notify(a.data.message,"error")}})}catch(e){alert(e)}}var id="",jumlah="",bank="",formModal=$(".cd-user-modal"),formLogin=formModal.find("#cd-login");jQuery.fn.putCursorAtEnd=function(){return this.each(function(){if(this.setSelectionRange){var e=2*$(this).val().length;this.focus(),this.setSelectionRange(e,e)}else $(this).val($(this).val())})},$(document).ready(function(){var e=$("#signin-username"),a=$("#signin-password");cekCookie(),setInterval(function(){cekCookie()},3e5),$("#login-modal").click(function(){if($.trim(e.val()).length>3&&$.trim(a.val()).length>3){var i={username:e.val(),password:a.val()};cekCookie(),login(i)}}),$("#logout").click(function(){logout()}),$("#login-btn").click(function(){login_selected()}),formModal.on("click",function(e){($(e.target).is(formModal)||$(e.target).is(".cd-close-form"))&&formModal.removeClass("is-visible")}),$(document).keyup(function(e){"27"==e.which&&(formModal.removeClass("is-visible"),clearFormLogin())}),$("#kirim").click(function(){if(id=$("input[name=item]:checked","#form-isi").val(),jumlah=$("#jumlah").val(),bank=$("#bank").val(),$("#hasil").html(""),cekCookie(),bank.length>3)if("ATB"==id){id="440";for(var e=0;e<=jumlah;e++)buyItemMall(id,bank)}else if("jika"==id)for(var e=0;e<=jumlah;e++)for(var a=20;a<=23;a++)buyWithSilverCoin(a,bank);else if("TBS"==id)for(var e=0;e<jumlah;e++)for(var a=273;a<=275;a++)buyWithSilverCoin(a,bank);else if("SBS"==id)for(var e=0;e<jumlah;e++)for(var i=193,o=1;o<=2;o++)buyWithSilverCoin(i,bank),i+=5;else if("EBE"==id)for(var e=0;e<jumlah;e++)for(var n=194,o=1;o<=2;o++)buyWithSilverCoin(n,bank),n+=5;else if("BSBE"==id)for(var e=0;e<=jumlah;e++)for(var l=3;l<=4;l++)buyWithSilverCoin(l,bank);else if("evo"==id)for(var r=307;r<=316;r++)buyWithSilverCoin(r,bank);else for(var e=0;e<=jumlah;e++)buyWithSilverCoin(id,bank);else $.notify("MASUKIN PASS BANK DULU COK !!!","error")})});